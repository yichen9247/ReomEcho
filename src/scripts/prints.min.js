(function(t,e){var n=function(t,o){if(!(this instanceof n))return new n(t,o);this.options=this.extend({noPrint:".no-print",onStart:function(){},onEnd:function(){}},o),this.dom="string"==typeof t?e.querySelector(t):t,this.init()};n.prototype={init:function(){var t=this.getStyle()+this.getHtml();this.writeIframe(t)},extend:function(t,e){for(var n in e)t[n]=e[n];return t},getStyle:function(){for(var t="",n=e.querySelectorAll("style,link"),o=0;o<n.length;o++)t+=n[o].outerHTML;return t+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",t},getHtml:function(){var t=e.querySelectorAll("input"),n=e.querySelectorAll("textarea"),o=e.querySelectorAll("select");for(var i in t)"checkbox"==t[i].type||"radio"==t[i].type?1==t[i].checked?t[i].setAttribute("checked","checked"):t[i].removeAttribute("checked"):"text"==t[i].type&&t[i].setAttribute("value",t[i].value);for(var r in n)"textarea"==n[r].type&&(n[r].innerHTML=n[r].value);for(var c in o)if("select-one"==o[c].type){var l=o[c].children;for(var u in l)"OPTION"==l[u].tagName&&(1==l[u].selected?l[u].setAttribute("selected","selected"):l[u].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(t){var n,o,i=e.createElement("iframe"),r=e.body.appendChild(i);i.id="myIframe",i.style="position:absolute;width:0;height:0;top:-10px;left:-10px;",n=r.contentWindow||r.contentDocument,o=r.contentDocument||r.contentWindow.document,o.open(),o.write(t),o.close(),this.toPrint(n,function(){e.body.removeChild(i)})},toPrint:function(t,e){var n=this;t.onload=function(){try{setTimeout(function(){t.focus(),"function"==typeof n.options.onStart&&n.options.onStart(),t.document.execCommand("print",!1,null)||t.print(),"function"==typeof n.options.onEnd&&n.options.onEnd(),t.close(),e&&e()})}catch(t){console.log("err",t)}}}},t.Print=n})(window,document);